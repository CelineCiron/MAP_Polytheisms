<html>
  <head>
    <meta charset="utf-8">
    <script src="https://unpkg.com/@deck.gl/core@^8.0.0/dist.min.js"></script>
    <script src="https://unpkg.com/@deck.gl/layers@^8.0.0/dist.min.js"></script>

    <style>
    body {
        margin: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }
    
    .deck-tooltip {
        font-size: 0.8em;
        font-family: Helvetica, Arial, sans-serif;
    }
    </style>  
    </head>

    <body>

        <script src="https://unpkg.com/@deck.gl/core@^8.0.0/dist.min.js"></script>
        <script src="https://unpkg.com/@deck.gl/layers@^8.0.0/dist.min.js"></script>
    
    <h1> Projet MAP</h1>
    <h2> Les dieux voyageurs - repr√©senter des liens entre les lieux </h2>

    </body>
    
    <script>
    /*
    * https://deck.gl/docs/api-reference/layers/icon-layer
    */
    const {DeckGL, IconLayer} = deck;

    const layer = new IconLayer({
    id: 'IconLayer',
    data: 'https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/bart-stations.json',
    
    /* props from IconLayer class */
    
    // alphaCutoff: 0.05,
    // billboard: true,
    // getAngle: 0,
    getColor: d => [Math.sqrt(d.exits), 140, 0],
    getIcon: d => 'marker',
    // getPixelOffset: [0, 0],
    getPosition: d => d.coordinates,
    getSize: d => 5,
    iconAtlas: 'https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png',
    iconMapping: {
        marker: {
        x: 0,
        y: 0,
        width: 128,
        height: 128,
        anchorY: 128,
        mask: true
        }
    },
    // onIconError: null,
    // sizeMaxPixels: Number.MAX_SAFE_INTEGER,
    // sizeMinPixels: 0,
    sizeScale: 8,
    // sizeUnits: 'pixels',
    
    /* props inherited from Layer class */
    
    // autoHighlight: false,
    // coordinateOrigin: [0, 0, 0],
    // coordinateSystem: COORDINATE_SYSTEM.LNGLAT,
    // highlightColor: [0, 0, 128, 128],
    // modelMatrix: null,
    // opacity: 1,
    pickable: true,
    // visible: true,
    // wrapLongitude: false,
    });

    new DeckGL({
    mapStyle: 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json',
    initialViewState: {
        longitude: -122.4,
        latitude: 37.74,
        zoom: 11,
        maxZoom: 20,
        pitch: 30,
        bearing: 0
    },
    controller: true,
    getTooltip: ({object}) => object && `${object.name}
    ${object.address}`,
    layers: [layer]
    });